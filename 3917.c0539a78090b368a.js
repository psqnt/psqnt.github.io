"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3917],{3917:(A,u,s)=>{s.r(u),s.d(u,{CalendarPageModule:()=>y});var d=s(6814),m=s(95),o=s(1929),h=s(5877),p=s(5861),v=s(9422),t=s(5678),C=s(2848);function Z(e,l){if(1&e){const a=t.EpF();t.TgZ(0,"ion-datetime",8),t.NdJ("ionChange",function(i){t.CHM(a);const r=t.oxw();return t.KtG(r.dateSelected(i))}),t.qZA()}if(2&e){const a=t.oxw();t.Q6J("highlightedDates",a.highlightedDates)}}function P(e,l){if(1&e&&(t.TgZ(0,"ion-item-sliding")(1,"ion-item",10),t._UZ(2,"ion-icon",11),t.TgZ(3,"ion-label")(4,"strong"),t._uU(5),t.qZA()(),t.TgZ(6,"ion-note",12),t._uU(7),t.qZA(),t.TgZ(8,"ion-note",2),t._uU(9),t.ALo(10,"date"),t.qZA()()()),2&e){const a=l.$implicit;t.xp6(1),t.Q6J("button",!0),t.xp6(4),t.Oqu(a.name),t.xp6(2),t.Oqu(a.location),t.xp6(2),t.Oqu(t.xi3(10,4,a.start,"fullDate"))}}function T(e,l){if(1&e&&(t.TgZ(0,"ion-list"),t.YNc(1,P,11,7,"ion-item-sliding",9),t.qZA()),2&e){const a=t.oxw();t.xp6(1),t.Q6J("ngForOf",a.selectedEvents)}}function D(e,l){1&e&&t._UZ(0,"ion-spinner")}const S=[{path:"",component:(()=>{var e;class l{constructor(n){this.dataService=n,this.loading=!0,this.calendarEvents=[],this.highlightedDates=[],this.selectedEvents=[]}ngOnInit(){this.loadCalendarEvents()}loadCalendarEvents(){var n=this;return(0,p.Z)(function*(){n.dataService.GetCalendarEvents().subscribe(i=>{i.forEach(r=>{const c=new v.c4(r).convert();n.calendarEvents.push(c),c.start&&n.highlightedDates.push({date:n.getProperDateString(c.start),textColor:"var(--ion-color-secondary-contrast)",backgroundColor:"var(--ion-color-secondary)"})}),console.log(n.highlightedDates),n.loading=!1})})()}getProperDateString(n){let i=n.getDate(),r=i.toString();i<10&&(r=`0${r}`);let c=n.getMonth()+1,g=c.toString();return c<10&&(g=`0${g}`),`${n.getFullYear()}-${g}-${r}`}dateSelected(n){if(this.selectedEvents=[],"string"==typeof n.detail.value){let r=n.detail.value;console.log(r);let c=new Date(r);const g=this.getProperDateString(c);for(var i of(console.log(c),this.calendarEvents)){if(!i.start)continue;const f=this.getProperDateString(i.start);console.log(f),console.log(g),f===g&&this.selectedEvents.push(i)}}}}return(e=l).\u0275fac=function(n){return new(n||e)(t.Y36(C.D))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-calendar"]],decls:17,vars:4,consts:[[3,"translucent"],["slot","start"],["slot","end"],["slot","icon-only","name","share-social-outline"],["slot","icon-only","name","add-outline"],["slot","icon-only","name","search"],["size","cover","locale","en-US","presentation","date",3,"highlightedDates","ionChange",4,"ngIf"],[4,"ngIf"],["size","cover","locale","en-US","presentation","date",3,"highlightedDates","ionChange"],[4,"ngFor","ngForOf"],[3,"button"],["color","danger","slot","start","name","list-circle","size","large"],["color","medium","slot","start"]],template:function(n,i){1&n&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),t._UZ(3,"ion-menu-button"),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5,"Calendar"),t.qZA(),t.TgZ(6,"ion-buttons",2)(7,"ion-button"),t._UZ(8,"ion-icon",3),t.qZA(),t.TgZ(9,"ion-button"),t._UZ(10,"ion-icon",4),t.qZA(),t.TgZ(11,"ion-button"),t._UZ(12,"ion-icon",5),t.qZA()()()(),t.TgZ(13,"ion-content"),t.YNc(14,Z,1,1,"ion-datetime",6)(15,T,2,1,"ion-list",7),t.qZA(),t.YNc(16,D,1,0,"ion-spinner",7)),2&n&&(t.Q6J("translucent",!0),t.xp6(14),t.Q6J("ngIf",!i.loading),t.xp6(1),t.Q6J("ngIf",i.selectedEvents),t.xp6(1),t.Q6J("ngIf",i.loading))},dependencies:[d.sg,d.O5,o.YG,o.Sm,o.W2,o.x4,o.Gu,o.gu,o.Ie,o.td,o.Q$,o.q_,o.fG,o.uN,o.PQ,o.wd,o.sr,o.QI,d.uU]}),l})()}];let x=(()=>{var e;class l{}return(e=l).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[h.Bz.forChild(S),h.Bz]}),l})(),y=(()=>{var e;class l{}return(e=l).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.ez,m.u5,o.Pc,x]}),l})()}}]);
"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6260],{6260:(P,m,s)=>{s.r(m),s.d(m,{HomePageModule:()=>b});var d=s(6814),g=s(95),i=s(1929),_=s(5877),u=s(5861),h=s(9422),e=s(5678),p=s(2848),f=s(6402);function v(a,r){1&a&&(e.TgZ(0,"ion-title"),e._uU(1,"Upcoming"),e.qZA())}function C(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"ion-searchbar",14),e.NdJ("ionInput",function(n){e.CHM(o);const l=e.oxw();return e.KtG(l.handleInput(n))})("ionClear",function(){e.CHM(o);const n=e.oxw();return e.KtG(n.clearSearch())}),e.qZA()}2&a&&e.Q6J("debounce",500)}function Z(a,r){if(1&a&&(e.TgZ(0,"div")(1,"ion-badge",23),e._uU(2),e.qZA()()),2&a){const o=r.$implicit;e.xp6(2),e.Oqu(o)}}function x(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"ion-item-sliding")(1,"ion-item",15),e._UZ(2,"ion-icon",16),e.TgZ(3,"ion-label")(4,"strong"),e._uU(5),e.qZA(),e._UZ(6,"br"),e.TgZ(7,"ion-text",17),e._uU(8),e._UZ(9,"br"),e.YNc(10,Z,3,1,"div",10),e.qZA(),e._UZ(11,"br"),e.qZA(),e.TgZ(12,"div",18)(13,"ion-note",19),e._uU(14),e.ALo(15,"date"),e.qZA()()(),e.TgZ(16,"ion-item-options",20)(17,"ion-item-option",21)(18,"ion-icon",22),e.NdJ("click",function(){const l=e.CHM(o).index,c=e.oxw();return e.KtG(c.removeCalendarEvent(l))}),e.qZA()()()()}if(2&a){const o=r.$implicit;e.xp6(1),e.Q6J("button",!0),e.xp6(4),e.Oqu(o.name),e.xp6(3),e.Oqu(o.content),e.xp6(2),e.Q6J("ngForOf",o.hashtags),e.xp6(4),e.Oqu(e.xi3(15,5,o.start,"shortDate"))}}function M(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"ion-datetime",33,34),e.NdJ("ngModelChange",function(n){e.CHM(o);const l=e.oxw(2);return e.KtG(l.startDate=n)}),e.qZA()}if(2&a){const o=e.oxw(2);e.Q6J("ngModel",o.startDate)}}function T(a,r){if(1&a){const o=e.EpF();e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",1)(3,"ion-button",4),e.NdJ("click",function(){e.CHM(o);const n=e.oxw();return e.KtG(n.cancel())}),e._uU(4,"Cancel"),e.qZA()(),e.TgZ(5,"ion-title"),e._uU(6,"Add home reminder"),e.qZA(),e.TgZ(7,"ion-buttons",3)(8,"ion-button",24),e.NdJ("click",function(){e.CHM(o);const n=e.oxw();return e.KtG(n.confirm())}),e._uU(9,"Confirm"),e.qZA()()()(),e.TgZ(10,"ion-content",25)(11,"ion-list")(12,"ion-item")(13,"ion-input",26),e.NdJ("ngModelChange",function(n){e.CHM(o);const l=e.oxw();return e.KtG(l.calendarEvent.name=n)}),e.qZA()(),e.TgZ(14,"ion-item")(15,"ion-input",27),e.NdJ("ngModelChange",function(n){e.CHM(o);const l=e.oxw();return e.KtG(l.calendarEvent.location=n)}),e.qZA()(),e.TgZ(16,"ion-item")(17,"ion-input",28),e.NdJ("ngModelChange",function(n){e.CHM(o);const l=e.oxw();return e.KtG(l.hashtags=n)}),e.qZA()(),e.TgZ(18,"ion-item")(19,"ion-textarea",29),e.NdJ("ngModelChange",function(n){e.CHM(o);const l=e.oxw();return e.KtG(l.calendarEvent.content=n)}),e.qZA()(),e.TgZ(20,"ion-item")(21,"ion-textarea",30),e.NdJ("ngModelChange",function(n){e.CHM(o);const l=e.oxw();return e.KtG(l.url=n)}),e.qZA()(),e.TgZ(22,"ion-item"),e._UZ(23,"ion-datetime-button",31),e.TgZ(24,"ion-modal",32),e.YNc(25,M,2,1,"ng-template"),e.qZA()()()()}if(2&a){const o=e.oxw();e.xp6(8),e.Q6J("strong",!0),e.xp6(5),e.Q6J("ngModel",o.calendarEvent.name),e.xp6(2),e.Q6J("ngModel",o.calendarEvent.location),e.xp6(2),e.Q6J("ngModel",o.hashtags),e.xp6(2),e.Q6J("ngModel",o.calendarEvent.content)("autoGrow",!0),e.xp6(2),e.Q6J("ngModel",o.url),e.xp6(3),e.Q6J("keepContentsMounted",!0)}}const E=[{path:"",component:(()=>{var a;class r{constructor(t,n){this.dataService=t,this.authService=n,this.showingSearch=!1,this.calendarEvents=[],this.filteredCalendarEvents=[],this.home="Home",this.hashtags="",this.url="",this.startDate=(new Date).toISOString(),this.calendarEvent={name:"",content:"",start:new Date,hashtags:[],urls:[],participants:[]},this.loadCalendarEvents()}loadCalendarEvents(){var t=this;return(0,u.Z)(function*(){t.calendarEvents=[],t.dataService.GetCalendarEvents().subscribe(n=>{n.forEach(l=>{const c=new h.c4(l).convert();console.log(c),t.calendarEvents.push(c)}),t.calendarEvents.sort((l,c)=>l.start.getTime()-c.start.getTime()),t.filteredCalendarEvents=t.calendarEvents})})()}removeCalendarEvent(t){this.dataService.removeCalendarEvent(t),this.calendarEvents.splice(t,1)}addEventToCalendar(){var t=this;return(0,u.Z)(function*(){t.calendarEvent.start=new Date(t.startDate),t.calendarEvent.hashtags=t.getProcessedHashtags(),t.calendarEvent.urls=[t.url],console.log(t.calendarEvent);const n=t.authService.getPrivateKey();yield t.dataService.AddCalendarEvent(n,t.calendarEvent),t.resetCalendarEvent(),yield t.loadCalendarEvents()})()}getProcessedHashtags(){let t=this.hashtags.split(/[ ,]+/);return console.log(t),t}resetCalendarEvent(){this.calendarEvent={name:"",content:"",start:new Date}}cancel(){this.modal&&(this.resetCalendarEvent(),this.modal.dismiss(null,"cancel"))}confirm(){this.modal&&this.modal.dismiss(this.calendarEvent,"confirm")}onWillDismiss(t){"confirm"===t.detail.role&&this.addEventToCalendar()}showSearch(){console.log(this.showingSearch),this.showingSearch?(this.showingSearch=!1,this.filteredCalendarEvents=this.calendarEvents):this.showingSearch=!0}handleInput(t){if(t.target&&t.target.value){const n=t.target.value.toLowerCase();console.log(n),this.filteredCalendarEvents=""===n||null===n?this.calendarEvents:this.calendarEvents.filter(l=>l.name.toLowerCase().indexOf(n)>-1)}}clearSearch(){this.filteredCalendarEvents=this.calendarEvents}}return(a=r).\u0275fac=function(t){return new(t||a)(e.Y36(p.D),e.Y36(f.$))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-home"]],viewQuery:function(t,n){if(1&t&&e.Gf(i.ki,5),2&t){let l;e.iGM(l=e.CRH())&&(n.modal=l.first)}},decls:21,vars:6,consts:[[3,"translucent"],["slot","start"],[4,"ngIf"],["slot","end"],[3,"click"],["slot","icon-only","name","search"],[3,"debounce","ionInput","ionClear",4,"ngIf"],[3,"fullscreen"],["collapse","condense"],["size","large"],[4,"ngFor","ngForOf"],["slot","fixed","vertical","bottom","horizontal","end","id","open-modal"],["name","add"],["trigger","open-modal",3,"willDismiss"],[3,"debounce","ionInput","ionClear"],[3,"button"],["color","danger","slot","start","name","list-circle","size","large"],[1,"ion-text-wrap"],["slot","end",1,"metadata-end-wrapper"],["color","medium"],["side","end"],["color","danger"],["slot","icon-only","name","trash",3,"click"],["color","primary"],[3,"strong","click"],[1,"ion-padding"],["label","Name","labelPlacement","floating","type","text","placeholder","Paint Bathroom",3,"ngModel","ngModelChange"],["label","Location","labelPlacement","floating","type","text","placeholder","Bathroom",3,"ngModel","ngModelChange"],["label","Tags","labelPlacement","floating","type","text","placeholder","#bathroom #walls #paint",3,"ngModel","ngModelChange"],["label","Description","labelPlacement","floating","type","text","placeholder","Going to paint the bathroom walls",3,"ngModel","autoGrow","ngModelChange"],["label","Website Link","labelPlacement","floating","type","text","placeholder","psqnt.github.io",3,"ngModel","ngModelChange"],["datetime","datetime"],[3,"keepContentsMounted"],["id","datetime","locale","en-US",3,"ngModel","ngModelChange"],["datetime",""]],template:function(t,n){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e._UZ(3,"ion-menu-button"),e.qZA(),e.YNc(4,v,2,0,"ion-title",2),e.TgZ(5,"ion-buttons",3)(6,"ion-button",4),e.NdJ("click",function(){return n.showSearch()}),e._UZ(7,"ion-icon",5),e.qZA()(),e.YNc(8,C,1,1,"ion-searchbar",6),e.qZA()(),e.TgZ(9,"ion-content",7)(10,"ion-header",8)(11,"ion-toolbar")(12,"ion-title",9),e._uU(13),e.qZA()()(),e.TgZ(14,"ion-list"),e.YNc(15,x,19,8,"ion-item-sliding",10),e.qZA(),e.TgZ(16,"ion-fab",11)(17,"ion-fab-button"),e._UZ(18,"ion-icon",12),e.qZA()(),e.TgZ(19,"ion-modal",13),e.NdJ("willDismiss",function(c){return n.onWillDismiss(c)}),e.YNc(20,T,26,8,"ng-template"),e.qZA()()),2&t&&(e.Q6J("translucent",!0),e.xp6(4),e.Q6J("ngIf",!n.showingSearch),e.xp6(4),e.Q6J("ngIf",n.showingSearch),e.xp6(1),e.Q6J("fullscreen",!0),e.xp6(4),e.Oqu(n.home),e.xp6(2),e.Q6J("ngForOf",n.filteredCalendarEvents))},dependencies:[d.sg,d.O5,g.JJ,g.On,i.yp,i.YG,i.Sm,i.W2,i.x4,i.Mj,i.IJ,i.W4,i.Gu,i.gu,i.pK,i.Ie,i.u8,i.IK,i.td,i.Q$,i.q_,i.fG,i.uN,i.VI,i.yW,i.g2,i.wd,i.sr,i.ki,i.QI,i.j9,d.uU]}),r})()}];let H=(()=>{var a;class r{}return(a=r).\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[_.Bz.forChild(E),_.Bz]}),r})(),b=(()=>{var a;class r{}return(a=r).\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[d.ez,g.u5,i.Pc,H]}),r})()}}]);
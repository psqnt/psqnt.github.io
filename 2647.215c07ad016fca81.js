"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2647],{2647:(L,_,c)=>{c.r(_),c.d(_,{HomePageModule:()=>Q});var p=c(6814),h=c(95),a=c(1929),Z=c(5877),t=c(5678),m=c(5861),A=c(7316),H=c(5619),T=c(4664),E=c(2181),C=c(7715),y=c(2096),v=c(5734);const x={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let g;const M=new Uint8Array(16);function w(){if(!g&&(g=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!g))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return g(M)}const l=[];for(let n=0;n<256;++n)l.push((n+256).toString(16).slice(1));const P=function b(n,e,i){if(x.randomUUID&&!e&&!n)return x.randomUUID();const o=(n=n||{}).random||(n.rng||w)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e){i=i||0;for(let r=0;r<16;++r)e[i+r]=o[r];return e}return function U(n,e=0){return l[n[e+0]]+l[n[e+1]]+l[n[e+2]]+l[n[e+3]]+"-"+l[n[e+4]]+l[n[e+5]]+"-"+l[n[e+6]]+l[n[e+7]]+"-"+l[n[e+8]]+l[n[e+9]]+"-"+l[n[e+10]]+l[n[e+11]]+l[n[e+12]]+l[n[e+13]]+l[n[e+14]]+l[n[e+15]]}(o)};class N{constructor(e,i){this.privateKey=e,this.normalCalenderEvent=i}createNostrCalendarEvent(){return this.getSignedEvent()}getSignedEvent(){const e={kind:31922,pubkey:(0,v.$3)(this.privateKey),tags:this.getTags(),content:this.normalCalenderEvent.content,created_at:Math.floor(Date.now()/1e3)};return{id:(0,v.s_)(e),sig:(0,v.o$)(e,this.privateKey),kind:e.kind,pubkey:e.pubkey,tags:e.tags,content:e.content,created_at:e.created_at}}getTags(){let e=[];return e.push(["d",this.getDTag()]),e.push(["name",this.normalCalenderEvent.name]),null!=this.normalCalenderEvent.start&&e.push(["start",this.formatDate(this.normalCalenderEvent.start)]),null!=this.normalCalenderEvent.end&&e.push(["end",this.formatDate(this.normalCalenderEvent.end)]),null!=this.normalCalenderEvent.location&&e.push(["location",this.normalCalenderEvent.location]),e}getDTag(){return P()}formatDate(e){return(0,p.p6)(e,"YYYY-MM-DD","en-US","UTC")}}var S=c(2014);const u="testkey",f="calender_events";let D=(()=>{var n;class e{constructor(o){this.storage=o,this.storageReady=new H.X(!1),this.init()}init(){var o=this;return(0,m.Z)(function*(){console.log("INIT"),yield o.storage.defineDriver(A),yield o.storage.create(),o.storageReady.next(!0),console.log("DONE")})()}getData(){return this.storageReady.pipe((0,E.h)(o=>o),(0,T.w)(o=>(console.log("OK LETS GO"),(0,C.D)(this.storage.get(u))||(0,y.of)([]))))}addItem(o){var r=this;return(0,m.Z)(function*(){const s=(yield r.storage.get(u))||[];return s.push(o),r.storage.set(u,s)})()}AddCalendarEvent(o,r){var s=this;return(0,m.Z)(function*(){const d=(yield s.storage.get(f))||[],F=new N(o,r).createNostrCalendarEvent();return d.push(F),s.storage.set(f,d)})()}GetCalendarEvents(){return this.storageReady.pipe((0,E.h)(o=>o),(0,T.w)(o=>(0,C.D)(this.storage.get(f))||(0,y.of)([])))}removeItem(o){var r=this;return(0,m.Z)(function*(){const s=(yield r.storage.get(u))||[];return s.splice(o,1),r.storage.set(u,s)})()}}return(n=e).\u0275fac=function(o){return new(o||n)(t.LFG(S.K))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function I(n,e){if(1&n&&(t.TgZ(0,"ion-item",2),t._UZ(1,"ion-icon",3),t.TgZ(2,"ion-label")(3,"strong"),t._uU(4),t.qZA()(),t.TgZ(5,"ion-note",4),t._uU(6,"Garage"),t.qZA(),t.TgZ(7,"ion-note",5),t._uU(8,"12/15/2023"),t.qZA()()),2&n){const i=e.$implicit;t.Q6J("button",!0),t.xp6(4),t.Oqu(i)}}let J=(()=>{var n;class e{constructor(o){this.dataService=o,this.listData=[],this.loadData()}loadData(){var o=this;return(0,m.Z)(function*(){o.dataService.getData().subscribe(r=>{o.listData=r})})()}handleRefresh(o){setTimeout(()=>{this.loadData(),o.target.complete()},2e3)}}return(n=e).\u0275fac=function(o){return new(o||n)(t.Y36(D))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-upcoming-list"]],decls:4,vars:1,consts:[["slot","fixed",3,"ionRefresh"],[3,"button",4,"ngFor","ngForOf"],[3,"button"],["color","danger","slot","start","name","list-circle","size","large"],["color","medium","slot","start"],["slot","end"]],template:function(o,r){1&o&&(t.TgZ(0,"ion-refresher",0),t.NdJ("ionRefresh",function(d){return r.handleRefresh(d)}),t._UZ(1,"ion-refresher-content"),t.qZA(),t.TgZ(2,"ion-list"),t.YNc(3,I,9,2,"ion-item",1),t.qZA()),2&o&&(t.xp6(3),t.Q6J("ngForOf",r.listData))},dependencies:[p.sg,a.gu,a.Ie,a.Q$,a.q_,a.uN,a.nJ,a.Wo]}),e})(),q=(()=>{var n;class e{constructor(){}ngOnInit(){}}return(n=e).\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-home-view"]],decls:22,vars:0,consts:[["slot","end"],["slot","end","name","arrow-forward-outline"]],template:function(o,r){1&o&&(t.TgZ(0,"ion-toolbar")(1,"ion-title"),t._uU(2,"Main House"),t.qZA(),t.TgZ(3,"ion-buttons",0)(4,"ion-button"),t._uU(5,"Yard"),t._UZ(6,"ion-icon",1),t.qZA()()(),t.TgZ(7,"ion-grid")(8,"ion-row")(9,"ion-col"),t._uU(10,"Kitchen"),t.qZA(),t.TgZ(11,"ion-col"),t._uU(12,"Bathroom"),t.qZA(),t.TgZ(13,"ion-col"),t._uU(14,"Living Room"),t.qZA(),t.TgZ(15,"ion-col"),t._uU(16,"Bedrooms"),t.qZA()(),t.TgZ(17,"ion-row")(18,"ion-col"),t._uU(19,"Garage"),t.qZA(),t.TgZ(20,"ion-col"),t._uU(21,"Basement"),t.qZA()()())},dependencies:[a.YG,a.Sm,a.wI,a.jY,a.gu,a.Nd,a.wd,a.sr],styles:["ion-grid[_ngcontent-%COMP%]{--ion-grid-padding: 20px;--ion-grid-padding-xs: 20px;--ion-grid-padding-sm: 20px;--ion-grid-padding-md: 20px;--ion-grid-padding-lg: 20px;--ion-grid-padding-xl: 20px;--ion-grid-column-padding: 30px;--ion-grid-column-padding-xs: 30px;--ion-grid-column-padding-sm: 30px;--ion-grid-column-padding-md: 30px;--ion-grid-column-padding-lg: 30px;--ion-grid-column-padding-xl: 30px}ion-col[_ngcontent-%COMP%]{background-color:#135d54;border:solid 1px #fff;color:#fff;text-align:center}"]}),e})();function G(n,e){1&n&&t._UZ(0,"ion-datetime",19)}function K(n,e){if(1&n){const i=t.EpF();t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",1)(3,"ion-button",12),t.NdJ("click",function(){t.CHM(i);const r=t.oxw();return t.KtG(r.cancel())}),t._uU(4,"Cancel"),t.qZA()(),t.TgZ(5,"ion-title"),t._uU(6,"Add home reminder"),t.qZA(),t.TgZ(7,"ion-buttons",2)(8,"ion-button",13),t.NdJ("click",function(){t.CHM(i);const r=t.oxw();return t.KtG(r.confirm())}),t._uU(9,"Confirm"),t.qZA()()()(),t.TgZ(10,"ion-content",14)(11,"ion-list")(12,"ion-item")(13,"ion-input",15),t.NdJ("ngModelChange",function(r){t.CHM(i);const s=t.oxw();return t.KtG(s.calendarEvent.location=r)}),t.qZA()(),t.TgZ(14,"ion-item")(15,"ion-input",16),t.NdJ("ngModelChange",function(r){t.CHM(i);const s=t.oxw();return t.KtG(s.calendarEvent.name=r)}),t.qZA()(),t.TgZ(16,"ion-item")(17,"ion-textarea",16),t.NdJ("ngModelChange",function(r){t.CHM(i);const s=t.oxw();return t.KtG(s.calendarEvent.content=r)}),t.qZA()(),t.TgZ(18,"ion-item"),t._UZ(19,"ion-datetime-button",17),t.TgZ(20,"ion-modal",18),t.YNc(21,G,1,0,"ng-template"),t.qZA()()()()}if(2&n){const i=t.oxw();t.xp6(8),t.Q6J("strong",!0),t.xp6(5),t.Q6J("ngModel",i.calendarEvent.location),t.xp6(2),t.Q6J("ngModel",i.calendarEvent.name),t.xp6(2),t.Q6J("ngModel",i.calendarEvent.content),t.xp6(3),t.Q6J("keepContentsMounted",!0)}}const Y=[{path:"",component:(()=>{var n;class e{constructor(o){this.dataService=o,this.home="Home",this.calendarEvent={name:"",content:"",start:new Date}}addEventToCalendar(){const o=localStorage.getItem("privateKey");null!==o?this.dataService.AddCalendarEvent(o,this.calendarEvent):console.log("ERROR PRIVATE KEY NOT EXIST"),this.resetCalendarEvent()}resetCalendarEvent(){this.calendarEvent={name:"",content:"",start:new Date}}cancel(){this.modal&&(this.resetCalendarEvent(),this.modal.dismiss(null,"cancel"))}confirm(){this.modal&&this.modal.dismiss(this.calendarEvent,"confirm")}onWillDismiss(o){"confirm"===o.detail.role&&this.addEventToCalendar()}}return(n=e).\u0275fac=function(o){return new(o||n)(t.Y36(D))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-home"]],viewQuery:function(o,r){if(1&o&&t.Gf(a.ki,5),2&o){let s;t.iGM(s=t.CRH())&&(r.modal=s.first)}},decls:25,vars:3,consts:[[3,"translucent"],["slot","start"],["slot","end"],["slot","icon-only","name","share-social-outline"],["slot","icon-only","name","add-outline"],["slot","icon-only","name","search"],[3,"fullscreen"],["collapse","condense"],["size","large"],["slot","fixed","vertical","bottom","horizontal","end","id","open-modal"],["name","add"],["trigger","open-modal",3,"willDismiss"],[3,"click"],[3,"strong","click"],[1,"ion-padding"],["label","Location","labelPlacement","floating","type","text","placeholder","Kitchen",3,"ngModel","ngModelChange"],["label","Name","labelPlacement","floating","type","text","placeholder","paint walls",3,"ngModel","ngModelChange"],["datetime","datetime"],[3,"keepContentsMounted"],["id","datetime"]],template:function(o,r){1&o&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),t._UZ(3,"ion-menu-button"),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5,"Husband Helper"),t.qZA(),t.TgZ(6,"ion-buttons",2)(7,"ion-button"),t._UZ(8,"ion-icon",3),t.qZA(),t.TgZ(9,"ion-button"),t._UZ(10,"ion-icon",4),t.qZA(),t.TgZ(11,"ion-button"),t._UZ(12,"ion-icon",5),t.qZA()()()(),t.TgZ(13,"ion-content",6)(14,"ion-header",7)(15,"ion-toolbar")(16,"ion-title",8),t._uU(17),t.qZA()()(),t._UZ(18,"app-home-view")(19,"app-upcoming-list"),t.TgZ(20,"ion-fab",9)(21,"ion-fab-button"),t._UZ(22,"ion-icon",10),t.qZA()(),t.TgZ(23,"ion-modal",11),t.NdJ("willDismiss",function(d){return r.onWillDismiss(d)}),t.YNc(24,K,22,5,"ng-template"),t.qZA()()),2&o&&(t.Q6J("translucent",!0),t.xp6(13),t.Q6J("fullscreen",!0),t.xp6(4),t.Oqu(r.home))},dependencies:[h.JJ,h.On,a.YG,a.Sm,a.W2,a.x4,a.Mj,a.IJ,a.W4,a.Gu,a.gu,a.pK,a.Ie,a.q_,a.fG,a.g2,a.wd,a.sr,a.ki,a.QI,a.j9,J,q]}),e})()}];let O=(()=>{var n;class e{}return(n=e).\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[Z.Bz.forChild(Y),Z.Bz]}),e})(),Q=(()=>{var n;class e{}return(n=e).\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[p.ez,h.u5,a.Pc,O]}),e})()}}]);
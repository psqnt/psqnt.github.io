"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4978],{4978:(y,u,s)=>{s.r(u),s.d(u,{HomePageModule:()=>P});var d=s(6814),g=s(95),i=s(1929),m=s(5877),_=s(5861),p=s(9422),e=s(5678),h=s(2848),v=s(6402);function f(o,r){if(1&o&&(e.TgZ(0,"ion-badge",4),e._uU(1),e.qZA()),2&o){const a=r.$implicit;e.xp6(1),e.Oqu(a)}}let C=(()=>{var o;class r{constructor(){}}return(o=r).\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-event"]],inputs:{event:"event"},decls:17,vars:8,consts:[[1,"ion-text-wrap"],["color","primary",4,"ngFor","ngForOf"],["color","medium"],["fill","clear"],["color","primary"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),e._uU(3),e.qZA(),e.TgZ(4,"ion-card-subtitle"),e._uU(5),e.qZA()(),e.TgZ(6,"ion-card-content")(7,"ion-text",0),e._uU(8),e._UZ(9,"br"),e.YNc(10,f,2,1,"ion-badge",1),e.qZA(),e._UZ(11,"br"),e.TgZ(12,"ion-note",2),e._uU(13),e.ALo(14,"date"),e.qZA()(),e.TgZ(15,"ion-button",3),e._uU(16,"Mark Complete"),e.qZA()()),2&t&&(e.xp6(3),e.Oqu(n.event.name),e.xp6(2),e.Oqu(n.event.location),e.xp6(3),e.Oqu(n.event.content),e.xp6(2),e.Q6J("ngForOf",n.event.hashtags),e.xp6(3),e.Oqu(e.xi3(14,5,n.event.start,"shortDate")))},dependencies:[d.sg,i.yp,i.YG,i.PM,i.FN,i.Zi,i.tO,i.Dq,i.uN,i.yW,d.uU]}),r})();function Z(o,r){1&o&&(e.TgZ(0,"ion-title"),e._uU(1,"Upcoming"),e.qZA())}function E(o,r){if(1&o){const a=e.EpF();e.TgZ(0,"ion-searchbar",14),e.NdJ("ionInput",function(n){e.CHM(a);const l=e.oxw();return e.KtG(l.handleInput(n))})("ionClear",function(){e.CHM(a);const n=e.oxw();return e.KtG(n.clearSearch())}),e.qZA()}2&o&&e.Q6J("debounce",500)}function T(o,r){if(1&o){const a=e.EpF();e.TgZ(0,"ion-item-sliding"),e._UZ(1,"app-event",15),e.TgZ(2,"ion-item-options",16)(3,"ion-item-option",17)(4,"ion-icon",18),e.NdJ("click",function(){const l=e.CHM(a).index,c=e.oxw();return e.KtG(c.removeCalendarEvent(l))}),e.qZA()()()()}if(2&o){const a=r.$implicit;e.xp6(1),e.Q6J("event",a)}}function x(o,r){if(1&o){const a=e.EpF();e.TgZ(0,"ion-datetime",33,34),e.NdJ("ngModelChange",function(n){e.CHM(a);const l=e.oxw(2);return e.KtG(l.startDate=n)}),e.qZA()}if(2&o){const a=e.oxw(2);e.Q6J("ngModel",a.startDate)}}function M(o,r){if(1&o){const a=e.EpF();e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",1)(3,"ion-button",4),e.NdJ("click",function(){e.CHM(a);const n=e.oxw();return e.KtG(n.cancel())}),e._uU(4,"Cancel"),e.qZA()(),e.TgZ(5,"ion-title"),e._uU(6,"New Event"),e.qZA(),e.TgZ(7,"ion-buttons",3)(8,"ion-button",19),e.NdJ("click",function(){e.CHM(a);const n=e.oxw();return e.KtG(n.confirm())}),e._uU(9,"Confirm"),e.qZA()()()(),e.TgZ(10,"ion-content",20)(11,"ion-list",21)(12,"ion-item")(13,"ion-input",22),e.NdJ("ngModelChange",function(n){e.CHM(a);const l=e.oxw();return e.KtG(l.calendarEvent.name=n)}),e.qZA()(),e.TgZ(14,"ion-item")(15,"ion-input",23),e.NdJ("ngModelChange",function(n){e.CHM(a);const l=e.oxw();return e.KtG(l.calendarEvent.location=n)}),e.qZA()()(),e.TgZ(16,"ion-list",21)(17,"ion-item"),e._UZ(18,"ion-datetime-button",24),e.TgZ(19,"ion-modal",25),e.YNc(20,x,2,1,"ng-template"),e.qZA()()(),e.TgZ(21,"ion-list",21)(22,"ion-item")(23,"ion-select",26)(24,"ion-select-option",27),e._uU(25,"Every Day"),e.qZA(),e.TgZ(26,"ion-select-option",28),e._uU(27,"Every Week"),e.qZA(),e.TgZ(28,"ion-select-option",29),e._uU(29,"Every 2 Weeks"),e.qZA(),e.TgZ(30,"ion-select-option",29),e._uU(31,"Every Month"),e.qZA(),e.TgZ(32,"ion-select-option",29),e._uU(33,"Every Year"),e.qZA()()()(),e.TgZ(34,"ion-list",21)(35,"ion-item")(36,"ion-input",30),e.NdJ("ngModelChange",function(n){e.CHM(a);const l=e.oxw();return e.KtG(l.url=n)}),e.qZA()(),e.TgZ(37,"ion-item")(38,"ion-input",31),e.NdJ("ngModelChange",function(n){e.CHM(a);const l=e.oxw();return e.KtG(l.hashtags=n)}),e.qZA()(),e.TgZ(39,"ion-item")(40,"ion-textarea",32),e.NdJ("ngModelChange",function(n){e.CHM(a);const l=e.oxw();return e.KtG(l.calendarEvent.content=n)}),e.qZA()()()()}if(2&o){const a=e.oxw();e.xp6(8),e.Q6J("strong",!0),e.xp6(3),e.Q6J("inset",!0),e.xp6(2),e.Q6J("ngModel",a.calendarEvent.name),e.xp6(2),e.Q6J("ngModel",a.calendarEvent.location),e.xp6(1),e.Q6J("inset",!0),e.xp6(3),e.Q6J("keepContentsMounted",!0),e.xp6(2),e.Q6J("inset",!0),e.xp6(13),e.Q6J("inset",!0),e.xp6(2),e.Q6J("ngModel",a.url),e.xp6(2),e.Q6J("ngModel",a.hashtags),e.xp6(2),e.Q6J("ngModel",a.calendarEvent.content)("autoGrow",!0)}}const H=[{path:"",component:(()=>{var o;class r{constructor(t,n){this.dataService=t,this.authService=n,this.showingSearch=!1,this.calendarEvents=[],this.filteredCalendarEvents=[],this.home="Home",this.hashtags="",this.url="",this.startDate=(new Date).toISOString(),this.calendarEvent={name:"",content:"",start:new Date,hashtags:[],urls:[],participants:[]},this.loadCalendarEvents()}loadCalendarEvents(){var t=this;return(0,_.Z)(function*(){t.calendarEvents=[],t.dataService.GetCalendarEvents().subscribe(n=>{n.forEach(l=>{const c=new p.c4(l).convert();console.log(c),t.calendarEvents.push(c)}),t.calendarEvents.sort((l,c)=>l.start.getTime()-c.start.getTime()),t.filteredCalendarEvents=t.calendarEvents})})()}removeCalendarEvent(t){this.dataService.removeCalendarEvent(t),this.calendarEvents.splice(t,1)}addEventToCalendar(){var t=this;return(0,_.Z)(function*(){t.calendarEvent.start=new Date(t.startDate),t.calendarEvent.hashtags=t.getProcessedHashtags(),t.calendarEvent.urls=[t.url],t.calendarEvent.participants=[t.authService.getPublicKey()],console.log(t.calendarEvent);const n=t.authService.getPrivateKey();yield t.dataService.AddCalendarEvent(n,t.calendarEvent),t.resetCalendarEvent(),yield t.loadCalendarEvents()})()}getProcessedHashtags(){let t=this.hashtags.split(/[ ,]+/);return console.log(t),t}resetCalendarEvent(){this.calendarEvent={name:"",content:"",start:new Date}}cancel(){this.modal&&(this.resetCalendarEvent(),this.modal.dismiss(null,"cancel"))}confirm(){this.modal&&this.modal.dismiss(this.calendarEvent,"confirm")}onWillDismiss(t){"confirm"===t.detail.role&&this.addEventToCalendar()}showSearch(){console.log(this.showingSearch),this.showingSearch?(this.showingSearch=!1,this.filteredCalendarEvents=this.calendarEvents):this.showingSearch=!0}handleInput(t){if(t.target&&t.target.value){const n=t.target.value.toLowerCase();console.log(n),this.filteredCalendarEvents=""===n||null===n?this.calendarEvents:this.calendarEvents.filter(l=>l.name.toLowerCase().indexOf(n)>-1)}}clearSearch(){this.filteredCalendarEvents=this.calendarEvents}}return(o=r).\u0275fac=function(t){return new(t||o)(e.Y36(h.D),e.Y36(v.$))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-home"]],viewQuery:function(t,n){if(1&t&&e.Gf(i.ki,5),2&t){let l;e.iGM(l=e.CRH())&&(n.modal=l.first)}},decls:21,vars:6,consts:[[3,"translucent"],["slot","start"],[4,"ngIf"],["slot","end"],[3,"click"],["slot","icon-only","name","search"],[3,"debounce","ionInput","ionClear",4,"ngIf"],[3,"fullscreen"],["collapse","condense"],["size","large"],[4,"ngFor","ngForOf"],["slot","fixed","vertical","bottom","horizontal","end","id","open-modal"],["name","add"],["trigger","open-modal",3,"willDismiss"],[3,"debounce","ionInput","ionClear"],[3,"event"],["side","end"],["color","danger"],["slot","icon-only","name","trash",3,"click"],[3,"strong","click"],[1,"ion-padding"],[3,"inset"],["type","text","placeholder","Title",3,"ngModel","ngModelChange"],["type","text","placeholder","Location or Video Call",3,"ngModel","ngModelChange"],["datetime","datetime"],[3,"keepContentsMounted"],["label","Repeat","placeholder","Never"],["value","apple"],["value","banana"],["value","orange"],["type","text","placeholder","URL",3,"ngModel","ngModelChange"],["type","text","placeholder","Categories",3,"ngModel","ngModelChange"],["type","text","placeholder","Description","cols","10",3,"ngModel","autoGrow","ngModelChange"],["label","Starts","id","datetime","locale","en-US",3,"ngModel","ngModelChange"],["datetime",""]],template:function(t,n){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e._UZ(3,"ion-menu-button"),e.qZA(),e.YNc(4,Z,2,0,"ion-title",2),e.TgZ(5,"ion-buttons",3)(6,"ion-button",4),e.NdJ("click",function(){return n.showSearch()}),e._UZ(7,"ion-icon",5),e.qZA()(),e.YNc(8,E,1,1,"ion-searchbar",6),e.qZA()(),e.TgZ(9,"ion-content",7)(10,"ion-header",8)(11,"ion-toolbar")(12,"ion-title",9),e._uU(13),e.qZA()()(),e.TgZ(14,"ion-list"),e.YNc(15,T,5,1,"ion-item-sliding",10),e.qZA(),e.TgZ(16,"ion-fab",11)(17,"ion-fab-button"),e._UZ(18,"ion-icon",12),e.qZA()(),e.TgZ(19,"ion-modal",13),e.NdJ("willDismiss",function(c){return n.onWillDismiss(c)}),e.YNc(20,M,41,12,"ng-template"),e.qZA()()),2&t&&(e.Q6J("translucent",!0),e.xp6(4),e.Q6J("ngIf",!n.showingSearch),e.xp6(4),e.Q6J("ngIf",n.showingSearch),e.xp6(1),e.Q6J("fullscreen",!0),e.xp6(4),e.Oqu(n.home),e.xp6(2),e.Q6J("ngForOf",n.filteredCalendarEvents))},dependencies:[d.sg,d.O5,g.JJ,g.On,i.YG,i.Sm,i.W2,i.x4,i.Mj,i.IJ,i.W4,i.Gu,i.gu,i.pK,i.Ie,i.u8,i.IK,i.td,i.q_,i.fG,i.VI,i.t9,i.n0,i.g2,i.wd,i.sr,i.ki,i.QI,i.j9,C]}),r})()}];let J=(()=>{var o;class r{}return(o=r).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[m.Bz.forChild(H),m.Bz]}),r})(),P=(()=>{var o;class r{}return(o=r).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[d.ez,g.u5,i.Pc,J]}),r})()}}]);